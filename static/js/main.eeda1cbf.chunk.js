(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],{14:function(e,t,n){e.exports={clear:"navbar_clear__2R5bs",nav:"navbar_nav__3HWsv",item:"navbar_item__1Bt5l",active:"navbar_active__3iFzD"}},16:function(e,t,n){e.exports={img:"users_img__2oZOf",user:"users_user__1hLSL",user_name:"users_user_name__38nz0",button_block:"users_button_block__2Rye3",button:"users_button__2iSAm",button_active:"users_button_active__1CgSw",preloader:"users_preloader__W4nCS"}},22:function(e,t,n){e.exports={clear:"login_clear__HoRvv",login_block:"login_login_block__1apcO",button:"login_button__3fgsP",auth:"login_auth__3vKnG",form:"login_form__2kvJH",fields:"login_fields__1lmSL"}},3:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__3risq",dialog_user:"dialogs_dialog_user__36kE4",dialogs_items:"dialogs_dialogs_items__3BWmT",active:"dialogs_active__2mEy1",messages:"dialogs_messages__D5DtR",message:"dialogs_message__2lxB8",message_block:"dialogs_message_block__OeCzo",button:"dialogs_button__3XQbQ",input:"dialogs_input__298PX",input_text:"dialogs_input_text__-re4X"}},30:function(e,t,n){e.exports={content:"profileInfo_content__2LbY5",img:"profileInfo_img__3u5e4"}},36:function(e,t,n){e.exports={header:"header_header__2ItSy",login:"header_login__2dAVR"}},45:function(e,t,n){e.exports={content:"MyPosts_content__2K7VI",item:"MyPosts_item__1P8aC",postBlock:"MyPosts_postBlock__1g4OV"}},46:function(e,t,n){},60:function(e,t,n){e.exports={content:"profile_content__ZN6EI"}},61:function(e,t,n){e.exports={content:"Post_content__e_T5g",item:"Post_item__Z9C-h"}},88:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),o=(n(46),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),o(e),c(e)}))}),c=n(39),i=n(43),r=n.n(i),l=n(56),u=n(17),d=n(2),j=n(35),b=n.n(j),h=b.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"0b887150-9918-4354-a1e5-bd7a84ebf7a7"}}),g=function(e){var t=new FormData;return t.append("image",e),h.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},p="ADD-POST",f="UPDATE-NEW-POST-TEXT",O="SET_USER_PROFILE",m="SET_USER_PROFILE_STATUS",A="SET_USER_PROFILE_STATUS_ON_SERVER",x="SET_PHOTO_ON_SERVER",v={posts:[{id:1,message:"Hello bro",likesCount:12}],newPostText:"",dialogs:[{id:1,name:"Ann"}],profile:null,profileStatus:"",status:"",photos:null},C=function(e){return function(t){var n;(n=e,h.get("profile/".concat(n)).then((function(e){return e.data}))).then((function(e){t(function(e){return{type:O,profile:e}}(e))}))}},E="UPDATE_NEW_MESSAGE_BODY",S="SEND_MESSAGE",P={messages:[{id:1,message:"Hello"},{id:2,message:"Hi"},{id:3,message:"How are you"},{id:4,message:"Fine"},{id:5,message:"Bye"}],newMessageBody:""},w="SET_USERS",N="SET_TOTAL_PAGE",T="SET_CURRENT_PAGE",F="FOLLOW",U="UNFOLLOW",B="IS_FETCHING",R={users:[],pageSize:5,totalCount:50,currentPage:1,isFetching:!1},D=function(e){return{type:B,isFetching:e}},y=function(e,t){return function(n){n(D(!0)),function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}(e,t).then((function(e){var t,s;n(D(!1)),n((t=e.items,{type:w,users:t})),n((s=e.totalCount,{type:N,totalCount:s}))}))}},L=function(e){return function(t){t(D(!0)),function(e){return h.delete("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0===n.resultCode&&(t({type:U,userId:e}),t(D(!1)))}))}},_=function(e){return function(t){t(D(!0)),function(e){return h.post("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0===n.resultCode&&(t({type:F,userId:e}),t(D(!1)))}))}},I="SET_IS_AUTH",V={resultCode:null,messages:null,data:{id:null,email:null,login:null,isAuth:!1}},Q=function(){return function(e){console.log("start"),h.get("auth/me").then((function(e){return e.data})).then((function(t){var n;console.log("authme"),0===t.resultCode&&(console.log("authme res"),e((n=t.data,{type:I,id:n.id,email:n.email,login:n.login,isAuth:!0})))}))}},k=n(57),M=Object(c.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var n={id:6,message:e.newPostText,likesCount:0};return e=Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(u.a)(e.posts),[n]),newPostText:""});case f:return e=Object(d.a)(Object(d.a)({},e),{},{newPostText:t.newText});case O:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case m:return Object(d.a)(Object(d.a)({},e),{},{profileStatus:t.profileStatus});case A:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case x:return Object(d.a)(Object(d.a)(Object(d.a)({},e),e.profile),{},{photos:t.photos});default:return e}},messagePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return e=Object(d.a)(Object(d.a)({},e),{},{newMessageBody:t.body});case S:var n=e.newMessageBody;return e=Object(d.a)(Object(d.a)({},e),{},{newMessageBody:""}),e=Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[{id:6,message:n}])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case U:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case w:return Object(d.a)(Object(d.a)({},e),{},{users:Object(u.a)(t.users)});case T:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case N:return Object(d.a)(Object(d.a)({},e),{},{totalCount:t.totalCount});case B:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});default:return e}},authPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:console.log(t);var n=Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},{id:t.id,email:t.email,login:t.login,isAuth:t.isAuth})});return console.log(n),n;default:return e}}}),W=Object(c.c)(M,Object(c.a)(k.a)),H=n(33),Y=n.n(H),q=(n(88),n(14)),z=n.n(q),G=n(8),K=n(0),X=function(){return Object(K.jsx)("div",{className:z.a.nav,children:Object(K.jsxs)("nav",{children:[Object(K.jsx)("div",{className:z.a.item,children:Object(K.jsx)(G.b,{to:"/profile",activeClassName:z.a.active,children:"Profile"})}),Object(K.jsx)("div",{className:z.a.item,children:Object(K.jsx)(G.b,{to:"/messages",activeClassName:z.a.active,children:"Messages"})}),Object(K.jsx)("div",{className:"".concat(z.a.item),children:Object(K.jsx)(G.b,{to:"/Users",activeClassName:z.a.active,children:"Users"})}),Object(K.jsx)("div",{className:"".concat(z.a.item),children:Object(K.jsx)(G.b,{to:"/news",activeClassName:z.a.active,children:"News"})}),Object(K.jsx)("div",{className:z.a.item,children:Object(K.jsx)(G.b,{to:"/settings",activeClassName:z.a.active,children:"Settings"})})]})})},J=n(4),Z=n(3),$=n.n(Z),ee=function(e){return Object(K.jsx)("div",{className:$.a.dialog_user,children:Object(K.jsx)("span",{children:e.name})})},te=function(e){return Object(K.jsx)("div",{className:$.a.message,children:e.message})},ne=function(e){console.log(e);var t=e.d.map((function(e){return Object(K.jsx)(ee,{name:e.name,id:e.id})})),n=e.m.map((function(e){return Object(K.jsx)(te,{message:e.message})})),s=e.b;return Object(K.jsxs)("div",{className:$.a.dialogs,children:[Object(K.jsx)("div",{className:$.a.dialogs_items,children:t}),Object(K.jsxs)("div",{className:$.a.messages,children:[Object(K.jsx)("div",{className:$.a.message_block,children:n}),Object(K.jsxs)("div",{className:$.a.input,children:[Object(K.jsx)("div",{children:Object(K.jsx)("textarea",{className:$.a.input_text,value:s,onChange:function(t){e.onNewMessageChange(t)},placeholder:"enter your message",children:" "})}),Object(K.jsx)("div",{children:Object(K.jsx)("button",{className:$.a.button,onClick:function(){e.onSendMessageClick()},children:" add message"})})]})]})]})},se=n(7),ae=function(e){return function(t){return console.log(t),t.auth.isAuth?Object(K.jsx)(e,Object(d.a)({},t)):Object(K.jsx)(J.a,{to:"/login"})}},oe=Object(se.b)((function(e){return console.log(e.authPage),{d:e.profilePage.dialogs,m:e.messagePage.messages,b:e.messagePage.newMessageBody,auth:e.authPage.data,supermessage:"HHHHHH"}}),(function(e){return{onNewMessageChange:function(t){var n=t.currentTarget.value;e({type:E,body:n,newText:""})},onSendMessageClick:function(){e({type:S,body:"",newText:""})}}}))(ae(ne)),ce=n(24),ie=n(25),re=n(27),le=n(26),ue=n.p+"static/media/spinning-circles.e84674d2.svg",de=function(e){return Object(K.jsx)(K.Fragment,{children:e.isFetching?Object(K.jsx)("img",{style:{width:"50px",height:"50px"},src:ue}):null})},je=n(16),be=n.n(je),he=n.p+"static/media/noimageavailable.09ea9f6b.jpg",ge=function(e){Object(re.a)(n,e);var t=Object(le.a)(n);function n(e){var s;return Object(ce.a)(this,n),(s=t.call(this,e)).onChangePage=function(e){s.props.setCurrentPage(e),s.props.getUsers(e,s.props.pageSize)},s.onChangeProfile=function(e){s.props.getUserProfile(e)},s.unFollowChange=function(e){s.props.unfollowThunk(e)},s.followChange=function(e){s.props.followTnunk(e)},s}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=this,t=[],n=1,s=10;this.props.currentPage>n+5&&(n=this.props.currentPage-4,s=this.props.currentPage+5);for(var a=n;a<=s;a++)t.push(a);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:be.a.preloader,children:Object(K.jsx)(de,{isFetching:this.props.isFetching})}),Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:be.a.button_block,children:t.map((function(t){return Object(K.jsx)("span",{onClick:function(){return e.onChangePage(t)},children:Object(K.jsx)("button",{className:e.props.currentPage===t?be.a.button_active:be.a.button,children:t})})}))}),this.props.users.map((function(t){return Object(K.jsx)("div",{className:be.a.user,children:Object(K.jsxs)("span",{className:be.a.user_name,children:[t.name,Object(K.jsx)("div",{children:Object(K.jsx)(G.b,{to:"/profile/"+t.id,onClick:function(){return e.onChangeProfile(t.id)},children:Object(K.jsx)("img",{className:be.a.img,src:t.photos.small?t.photos.small:he})})}),Object(K.jsx)("div",{children:t.followed?Object(K.jsx)("button",{disabled:e.props.isFetching,className:be.a.button,onClick:function(){return e.unFollowChange(t.id)},children:"Unfollow"}):Object(K.jsx)("button",{disabled:e.props.isFetching,className:be.a.button,onClick:function(){return e.followChange(t.id)},children:"Follow"})})]})},t.id)}))]})]})}}]),n}(a.a.Component),pe=Object(se.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),(function(e){return{followTnunk:function(t){e(_(t))},unfollowThunk:function(t){e(L(t))},setCurrentPage:function(t){e(function(e){return{type:T,currentPage:e}}(t))},getUserProfile:function(t){return e(C(t))},getUsers:function(t,n){e(y(t,n))}}}))(ge),fe=n(60),Oe=n.n(fe),me=n(15),Ae=n(30),xe=n.n(Ae),ve=function(e){return Object(K.jsxs)(K.Fragment,{children:[!e.editMode&&Object(K.jsx)("div",{children:Object(K.jsxs)("span",{onDoubleClick:function(){return e.setEditMode(!0)},children:["CHANGE MY STATUS:",localStorage.getItem("status")]})}),e.editMode&&Object(K.jsx)("div",{children:Object(K.jsx)("input",{autoFocus:!0,value:e.status,onChange:function(t){return function(t){e.setStatus(t.currentTarget.value)}(t)},onBlur:function(){return e.setEditMode(!1)}})})]})},Ce=function(e){var t,n,a,o,c,i,r;e.getUserProfileStatus(null===(t=e.profile)||void 0===t?void 0:t.userId);var l=Object(s.useState)(e.status),u=Object(me.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(!1),h=Object(me.a)(b,2),g=h[0],p=h[1],f=function(e){j(e)},O=function(t){p(!0),console.log(t.target.files),t.target.files.length&&e.setPhoto&&e.setPhoto(t.target.files[0]),p(!1)},m=function(t){p(t),t||(e.setProfileStatus(d),localStorage.setItem("status",d))};return e.profile?Object(K.jsxs)("div",{className:xe.a.content,children:[Object(K.jsx)("img",{className:xe.a.img,src:e.profile.photos.small?e.profile.photos.small:"https://igel.com.ua/image/cachecatalog/NASIPNYE/%D1%84%D0%BE%D1%82%D0%BE-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE-%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82-3000x3000.jpg"}),Object(K.jsxs)("div",{children:["FULLNAME: ",null===(n=e.profile)||void 0===n?void 0:n.fullName]}),Object(K.jsxs)("div",{children:["ID: ",null===(a=e.profile)||void 0===a?void 0:a.userId]}),Object(K.jsxs)("div",{children:["ABOUT ME: ",null===(o=e.profile)||void 0===o?void 0:o.aboutMe]}),Object(K.jsxs)("div",{children:["FACEBOOK: ",null===(c=e.profile)||void 0===c||null===(i=c.contacts)||void 0===i?void 0:i.facebook]}),Object(K.jsxs)("div",{children:["STATUS: ",e.profileStatus]}),e.profile.userId===(null===(r=e.auth)||void 0===r?void 0:r.id)&&Object(K.jsxs)("div",{className:xe.a.description,children:[Object(K.jsx)("img",{src:e.photos}),Object(K.jsx)(ve,{status:d,setStatus:f,editMode:g,setEditMode:m}),Object(K.jsxs)("label",{className:"".concat($.a.button," + ").concat(xe.a.button),children:["Change photo",Object(K.jsx)("input",{type:"file",onChange:O})]})]})]}):(console.log(e),Object(K.jsxs)("div",{children:[Object(K.jsx)("img",{src:e.photos}),Object(K.jsx)(ve,{status:d,setStatus:f,editMode:g,setEditMode:m}),Object(K.jsx)("input",{type:"file",onChange:O})]}))},Ee=n(45),Se=n.n(Ee),Pe=n(61),we=n.n(Pe),Ne=function(e){return Object(K.jsx)("div",{children:Object(K.jsxs)("div",{className:we.a.item,children:[Object(K.jsx)("img",{src:"https://www.meme-arsenal.com/memes/87d4bfeed251dba0ce946e9e594dbdb6.jpg"}),e.message]})})},Te=function(e){var t=e.post.map((function(e){return Object(K.jsx)(Ne,{message:e.message,likesCount:e.likesCount})})),n=a.a.createRef();return Object(K.jsxs)("div",{className:Se.a.content,children:[Object(K.jsx)("div",{className:$.a.input,children:Object(K.jsx)("textarea",{className:$.a.input_text,onChange:function(){var t=n.current.value;e.updateNewPostText(t)},ref:n,value:e.newPostText})}),Object(K.jsx)("div",{children:Object(K.jsx)("button",{className:$.a.button,onClick:function(){var t=n.current.value;t&&e.addPost(t)},disabled:!e.newPostText,children:" Add post"})}),Object(K.jsx)("div",{className:Se.a.postBlock,children:"My Posts"}),Object(K.jsx)("div",{className:$.a.message,children:t})]})},Fe=Object(se.b)((function(e){return{post:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(t){if(t){var n=function(e){return{type:f,newPostText:"",newText:e,body:""}}(t);e(n)}},addPost:function(t){if(t){var n=function(e){return{type:p,newText:e,body:""}}(t);e(n)}}}}))(Te),Ue=function(e){var t;e.profile||e.auth&&e.getUserProfile(null===(t=e.auth)||void 0===t?void 0:t.id);return Object(K.jsxs)("div",{children:[Object(K.jsx)(Ce,{profile:e.profile,setProfileStatus:e.setProfileStatus,status:e.status,auth:e.auth,setPhoto:e.setPhoto,getUserProfileStatus:e.getUserProfileStatus,profileStatus:e.profileStatus}),Object(K.jsx)(Fe,{post:e.post,newPostText:e.newPostText})]})},Be=function(e){Object(re.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"render",value:function(){return Object(K.jsx)("div",{className:Oe.a.content,children:Object(K.jsx)(Ue,Object(d.a)({},this.props))})}}]),n}(a.a.Component),Re=Object(se.b)((function(e){return console.log(e),{profile:e.profilePage.profile,profileStatus:e.profilePage.profileStatus,status:e.profilePage.status,photos:e.profilePage.photos,auth:e.authPage.data}}),{getUserProfile:C,setPhoto:function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:0===(s=t.sent).data.resultCode&&n((a=s.data.data.photos.large,{type:x,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserProfileStatus:function(e){return function(t){var n;(n=e,h.get("profile/status/".concat(n)).then((function(e){return e.data}))).then((function(e){t({type:m,profileStatus:e})}))}},setProfileStatus:function(e){return function(t){(function(e){return h.put("profile/status",{status:e}).then((function(e){return e.data}))})(e).then((function(n){0===n.resultCode&&t(function(e){return{type:A,status:e}}(e))}))}}})(ae(Be)),De=n(36),ye=n.n(De),Le=function(e){return Object(K.jsxs)("div",{children:[Object(K.jsx)("img",{src:"data:image/jpeg;base64,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"}),Object(K.jsxs)("div",{className:ye.a.login,children:[e.isAuth?Object(K.jsxs)("span",{children:[" ",e.login,Object(K.jsx)("button",{className:$.a.button,onClick:function(){h.delete("auth/login").then((function(e){return e.data})).then((function(t){0===t.resultCode&&e.getDisAuth()}))},children:" LOG OUT"})]}):Object(K.jsx)(G.b,{to:"/login",children:Object(K.jsx)("button",{className:$.a.button,children:"LOG IN"})}),Object(K.jsx)("div",{})]})]})},_e=function(e){Object(re.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return Object(K.jsx)("div",{className:ye.a.header,children:Object(K.jsx)(Le,Object(d.a)({},this.props))})}}]),n}(a.a.Component),Ie=Object(se.b)((function(e){return{isAuth:e.authPage.data.isAuth,login:e.authPage.data.login}}),{getAuthUserData:Q,getDisAuth:function(){return function(e){console.log("dis auth"),e({type:I,isAuth:!1})}}})(_e),Ve=function(){var e=Object(s.useState)([]),t=Object(me.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(1),c=Object(me.a)(o,2),i=c[0],r=c[1],l=Object(s.useState)(!0),d=Object(me.a)(l,2),j=d[0],h=d[1];Object(s.useEffect)((function(){j&&b.a.get("https://jsonplaceholder.typicode.com/photos?_limit=10&_pages=".concat(i)).then((function(e){a([].concat(Object(u.a)(n),Object(u.a)(e.data))),r((function(e){return e+1}))})).finally((function(){return h(!1)}))}),[j]),Object(s.useEffect)((function(){return document.addEventListener("scroll",g),function(){document.removeEventListener("scroll",g)}}),[]);var g=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&n.length<5e3&&h(!0)};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{children:"NEWS"}),Object(K.jsx)(de,{isFetching:j}),Object(K.jsx)("div",{children:n.map((function(e){return Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{children:[" ",e.title,"  "]}),Object(K.jsx)("img",{src:e.thumbnailUrl})]})}))})]})},Qe=(n(95),function(e){var t=e.active,n=e.setActive,s=e.children;return Object(K.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(K.jsx)("div",{className:t?"modal_content active":"modal_content",onClick:function(e){return e.stopPropagation()},children:s})})}),ke=n(62),Me=function(){var e=Object(s.useState)(!1),t=Object(me.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(""),c=Object(me.a)(o,2),i=c[0],r=c[1],l=Object(s.useState)(""),u=Object(me.a)(l,2),d=u[0],j=u[1];return Object(K.jsxs)("div",{children:[Object(K.jsx)("button",{className:$.a.button,onClick:function(){return a(!0)},children:" SAVE INFO IN TO FILE"}),Object(K.jsxs)(Qe,{active:n,setActive:a,children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:" enter file name "}),Object(K.jsx)("input",{type:"text",onChange:function(e){j(e.target.value)}})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{children:" enter text "}),Object(K.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)}})]}),Object(K.jsx)("button",{onClick:function(){var e={name:d,value:i},t=new Blob([e.value," fileName:",e.name],{type:"text/plain;charset=utf-8"});console.log(t),Object(ke.saveAs)(t,d)},children:" SAVE"})]})]})},We=n(28),He=n(22),Ye=n.n(He),qe=Object(se.b)((function(e){return console.log(e),{auth:e.authPage.data}}),{getAuthUserData:Q})((function(e){console.log(e);var t=Object(We.d)({initialValues:{password:"",email:""},validate:function(e){var t={password:"",email:""};return e.password?e.password.length>15&&(t.password="Must be 15 characters or less"):t.password="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",""===t.password&&""===t.email?(console.log("NO MISTAKES"),{}):t},onSubmit:function(t,n){var s,a,o=n.setSubmitting;(s=t.email,a=t.password,h.post("auth/login",{email:s,password:a}).then((function(e){return e.data}))).then((function(t){console.log("authorization"),console.log(t),0===t.resultCode&&e.getAuthUserData()})),o(!1)}});return Object(K.jsxs)("div",{className:Ye.a.login_block,children:[e.auth.isAuth&&Object(K.jsx)(J.a,{to:"/profile"}),Object(K.jsx)("h1",{className:Ye.a.auth,children:"Authorization"}),Object(K.jsx)(We.c,{initialValues:t.initialValues,onSubmit:function(e){return n=e,void t.handleSubmit(n);var n},children:Object(K.jsxs)(We.b,{className:Ye.a.form,children:[Object(K.jsxs)("div",{className:Ye.a.fields,children:[Object(K.jsx)("label",{htmlFor:"email",children:"email "}),Object(K.jsx)(We.a,{id:"email",name:"email",placeholder:"xxxx@mail.xxx",type:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email})]}),t.touched.password&&t.errors.password?Object(K.jsx)("div",{style:{color:"red"},children:t.errors.password}):null,Object(K.jsxs)("div",{className:Ye.a.fields,children:[Object(K.jsx)("label",{htmlFor:"password",children:"password "}),Object(K.jsx)(We.a,Object(d.a)({id:"password",type:"password"},t.getFieldProps("password")))]}),t.touched.email&&t.errors.email?Object(K.jsx)("div",{style:{color:"red"},children:t.errors.email}):null,Object(K.jsx)("button",{className:Ye.a.button,type:"submit",children:"Login"}),Object(K.jsx)("p",{children:"use common test account credentials:"}),Object(K.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(K.jsx)("p",{children:"Password: free"})]})})]})}));var ze=function(e){return Object(K.jsx)(G.a,{children:Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)(Ie,{}),Object(K.jsx)(X,{}),Object(K.jsxs)("div",{className:"App_content",children:[Object(K.jsx)(J.b,{exact:!0,path:"/",render:function(){return Object(K.jsx)(pe,{users:e.store.usersPage.users,totalCount:e.store.usersPage.totalCount,isFetching:e.store.usersPage.isFetching,currentPage:e.store.usersPage.currentPage,pageSize:e.store.usersPage.pageSize})}}),Object(K.jsx)(J.b,{path:"/messages",render:function(){return Object(K.jsx)(oe,{b:e.b,d:e.d,m:e.m})}}),Object(K.jsx)(J.b,{path:"/profile",render:function(){return Object(K.jsx)(Re,{post:e.post,profile:e.profile,newPostText:e.newPostText})}}),Object(K.jsx)(J.b,{path:"/users",render:function(){return Object(K.jsx)(pe,{users:e.store.usersPage.users,totalCount:e.store.usersPage.totalCount,isFetching:e.store.usersPage.isFetching,currentPage:e.store.usersPage.currentPage,pageSize:e.store.usersPage.pageSize})}}),Object(K.jsx)(J.b,{path:"/login",render:function(){return Object(K.jsx)(qe,{auth:e.store.authPage})}}),Object(K.jsx)(J.b,{path:"/news",render:function(){return Object(K.jsx)(Ve,{})}}),Object(K.jsx)(J.b,{path:"/settings",render:function(){return Object(K.jsx)(Me,{})}})]})]})})};Y.a.render(Object(K.jsx)(se.a,{store:W,children:Object(K.jsx)(ze,{post:W.getState().profilePage.posts,d:W.getState().profilePage.dialogs,profile:W.getState().profilePage.profile,m:W.getState().messagePage.messages,b:W.getState().messagePage.newMessageBody,newPostText:W.getState().profilePage.newPostText,dispatch:W.dispatch.bind(W),store:W.getState()})}),document.getElementById("root")),o()}},[[96,1,2]]]);
//# sourceMappingURL=main.eeda1cbf.chunk.js.map